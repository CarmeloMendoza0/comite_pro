<!DOCTYPE html>
<html lang="es">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Comite Pro{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <div class="flex h-screen overflow-hidden">
      <!-- Menú Lateral -->
      {% if user.is_authenticated %}
      <div class="sticky top-0 h-screen flex flex-col justify-between border-e bg-white">
        <div class="px-4 py-6">
          <span class="grid h-10 w-32 place-content-center rounded-lg bg-gray-100 text-xs text-gray-600">
            Comite Pro
          </span>

          <ul class="mt-6 space-y-1">
            <!-- General -->
            <li>
              <a
                href="#"
                class="block rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700"
              >
                General
              </a>
            </li>
            <!-- Menú Empresa -->
            <li>
              <details class="group [&_summary::-webkit-details-marker]:hidden">
                <summary
                  class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-700"
                >
                  <span class="text-sm font-medium"> Empresa </span>
                  <span
                    class="shrink-0 transition duration-300 group-open:-rotate-180"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="size-5"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </span>
                </summary>

                <ul class="mt-2 space-y-1 px-4">
                  <li>
                    <a
                      href="{% url 'empresa_list' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Sección de empresa
                    </a>
                  </li>

                  <li>
                    <a
                      href="{% url 'agg_periodo_contable' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Agregar Periodo
                    </a>
                  </li>

                  <li>
                    <a
                      href="{% url 'lista_periodos' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Lista períodos
                    </a>
                  </li>
                </ul>
              </details>
            </li>

            <!-- Menú Digitación -->
            <li>
              <details class="group [&_summary::-webkit-details-marker]:hidden">
                <summary
                  class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-700"
                >
                  <span class="text-sm font-medium"> Digitación </span>
                  <span
                    class="shrink-0 transition duration-300 group-open:-rotate-180"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="size-5"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </span>
                </summary>

                <ul class="mt-2 space-y-1 px-4">
                  <!-- Submenú Cuentas -->
                  <li>
                    <a
                      href="{% url 'cuenta_list' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Cuentas
                    </a>
                  </li>

                  <!-- Submenú Catálogo -->
                  <li>
                    <a
                      href="{% url 'catalogo_list' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Catálogo
                    </a>
                  </li>

                  <!-- Submenú Plan de Cuentas -->
                  <li>
                    <a
                      href="{% url 'plan_cuentas' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Plan de Cuentas
                    </a>
                  </li>

                  <!-- Submenú Tipo de documentos -->
                  <li>
                    <a
                      href="{% url 'tipodocumento_list' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Tipo de documentos
                    </a>
                  </li>
                </ul>
              </details>
            </li>
          
            <!-- Menú Procesos -->
            <li>
              <details class="group [&_summary::-webkit-details-marker]:hidden">
                <summary
                  class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-700"
                >
                  <span class="text-sm font-medium"> Procesos </span>
                  <span
                    class="shrink-0 transition duration-300 group-open:-rotate-180"
                  >
                    <!-- Icono -->
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-5 w-5"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </span>
                </summary>

                <ul class="mt-2 space-y-1 px-4">
                  <!-- Submenú Comprobante -->
                  <li>
                    <a
                      href="{% url 'doccomprobante_list' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Comprobantes
                    </a>
                  </li>
                  <!-- Submenú transacciones -->
                  <li>
                    <a
                      href="{% url 'documentobanco_list' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Bancos
                    </a>
                  </li>
                  <!-- Submenú Póliza -->
                  <li>
                    <a
                      href="{% url 'poliza_list' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Póliza
                    </a>
                  </li>
                </ul>
              </details>
            </li>
            
            <!-- Menú Reportes -->
            <li>
              <details class="group [&_summary::-webkit-details-marker]:hidden">
                <summary
                  class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-700"
                >       
                  <span class="text-sm font-medium"> Reportes </span>
                  <span
                    class="shrink-0 transition duration-300 group-open:-rotate-180"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="h-5 w-5"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </span>
                </summary>

                <ul class="mt-2 space-y-1 px-4"> 
                  <!-- Submenú Libro Diario -->
                  <li>
                    <a
                      href="{% url 'libro_diario' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >        
                      Libro Diario
                    </a>
                  </li>

                  <!-- Submenú Libro Mayor -->
                  <li>
                    <a
                      href="{% url 'libro_mayor' %}"
                      class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                    >
                      Libro Mayor
                    </a>
                  </li>
                </ul>
              </details>
            </li>

            <!-- Menú Seguridad -->
            <li>
              <details class="group [&_summary::-webkit-details-marker]:hidden">
                <summary
                  class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                >
                  <span class="text-sm font-medium"> Seguridad </span>

                  <span
                    class="shrink-0 transition duration-300 group-open:-rotate-180"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      class="size-5"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </span>
                </summary>

                <ul class="mt-2 space-y-1 px-4">
                  <li>
                      <a
                        href="{% url 'usuarios_list' %}"
                        class="block rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
                      >
                        Usuario
                      </a>
                  </li>
                </ul>
              </details>
            </li>
          </ul>
        </div>

        <!-- Cerrar sesión -->
        <div class="px-4 py-6 border-t border-gray-100">
          <form action="{% url 'logout' %}" method="POST">
            {% csrf_token %}
            <button
              class="block w-full rounded-lg px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700"
              type="submit"
            >
              Cerrar sesión
            </button>
          </form>
        </div>
      </div>
      {% endif %}

      <!-- Contenido Principal -->
      <div class="flex-grow overflow-y-auto container mx-auto px-4 p-0 h-screen">
        {% if messages %}
        <ul class="messages p-4">
            {% for message in messages %}
            <li class="mb-2 {% if message.tags %}{% if 'success' in message.tags %}text-green-500{% elif 'error' in message.tags %}text-red-500{% elif 'warning' in message.tags %}text-yellow-500{% elif 'info' in message.tags %}text-blue-500{% else %}text-gray-500{% endif %}{% endif %}">
              {{ message }}
            </li>
            {% endfor %}
        </ul>
        {% endif %}

        {% block content %}{% endblock %}
      </div>
      
      <!-- Scripts comunes -->
      <script src="{% static 'js/base.js' %}"></script>
      <!-- Bloque para scripts adicionales -->
      {% block extra_js %}
      {% endblock %}

    </div>
  </body>
</html>
